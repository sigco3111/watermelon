# 수박 게임 3D

React, Three.js, 그리고 cannon-es를 사용하여 제작된 3D 과일 합치기 퍼즐 게임입니다. 인기 있는 수박 게임에서 영향을 받아 3차원 환경으로 재구성했습니다. 과일을 떨어뜨리고, 같은 과일끼리 합쳐 더 큰 과일을 만들며 최고 점수에 도전하세요!


## ✨ 주요 기능

*   **3D 물리 기반 게임플레이:** Three.js와 cannon-es를 활용하여 현실감 있는 3D 환경과 물리 효과를 제공합니다.
*   **다양한 과일과 합치기 시스템:** 작은 과일부터 시작하여 단계별로 더 큰 과일로 합쳐집니다. 최종 목표는 거대한 수박입니다!
    *   과일 순서: 체리 🍒 → 딸기 🍓 → 포도 🍇 → 데코폰 🍊 → 감 → 사과 🍎 → 배 🍐 → 복숭아 🍑 → 파인애플 🍍 → 멜론 🍈 → 수박 🍉
*   **특수 과일:**
    *   🌈 **무지개 큐브:** 어떤 일반 과일과도 합쳐져 해당 과일을 다음 단계로 업그레이드합니다.
    *   💣 **폭탄 큐브:** 다른 과일과 부딪히면 폭발하여 주변의 작은 과일들 (데코폰 이하)을 최대 5개까지 제거합니다.
*   **점수 시스템 및 콤보:** 과일을 합칠 때마다 점수를 얻으며, 짧은 시간 안에 연속으로 합치면 콤보 보너스를 받습니다.
*   **최고 점수 저장:** 브라우저의 localStorage를 사용하여 최고 점수를 기록하고 불러옵니다.
*   **자동 진행 (Autoplay) 모드:** AI가 자동으로 최적의 위치를 판단하여 과일을 떨어뜨립니다.
*   **드롭 쿨다운:** 과일을 떨어뜨린 후 다음 과일을 떨어뜨리기까지 짧은 대기 시간이 적용됩니다.
*   **상세한 게임 종료 통계:** 플레이 시간, 총 합체 횟수, 달성한 가장 큰 과일, 게임 종료 시 과일 분포, 주요 과일 첫 달성 시간 등을 제공합니다.
*   **반응형 UI:** 다양한 화면 크기에서 게임을 즐길 수 있도록 UI가 조정됩니다.
*   **도움말 패널:** 게임 방법과 규칙을 설명하는 도움말 UI를 제공합니다.
*   **병합 파티클 효과:** 과일이 합쳐질 때 시각적인 파티클 효과가 나타납니다.

## 🛠️ 사용 기술

*   **프레임워크/라이브러리:**
    *   React 19 (UI 구축 및 상태 관리)
    *   Three.js (3D 렌더링)
    *   cannon-es (3D 물리 엔진)
*   **스타일링:**
    *   Tailwind CSS (빠르고 효율적인 UI 스타일링)
*   **언어:**
    *   TypeScript (타입 안정성 및 개발 편의성)

## 🎮 게임 방법

1.  **목표:**
    *   같은 종류의 과일을 합쳐 더 큰 과일로 만드세요.
    *   과일이 게임 영역 상단의 보이지 않는 "게임 오버 라인"을 넘지 않도록 관리하세요.
    *   최대한 높은 점수를 획득하는 것이 목표입니다.

2.  **조작:**
    *   **수동 모드:**
        *   마우스를 움직여 과일을 떨어뜨릴 X축 위치를 조준합니다.
        *   마우스 왼쪽 버튼을 클릭하여 현재 선택된 과일을 떨어뜨립니다.
    *   **자동 진행 모드:**
        *   화면 상단의 "자동 진행" 토글 스위치를 켜면 AI가 게임을 대신 플레이합니다.

3.  **과일 합치기:**
    *   같은 종류의 과일 두 개가 서로 접촉하면, 다음 단계의 더 큰 과일 하나로 합쳐집니다.
    *   합쳐진 위치에서 새로운 과일이 생성되며, 약간의 반동이 있을 수 있습니다.

4.  **특수 과일 활용:**
    *   **무지개 큐브:** 전략적으로 사용하여 특정 과일을 빠르게 업그레이드하거나 어려운 상황을 타개할 수 있습니다.
    *   **폭탄 큐브:** 과일이 너무 많이 쌓였을 때 작은 과일들을 제거하여 공간을 확보하는 데 유용합니다.

5.  **점수 획득:**
    *   과일을 성공적으로 합칠 때마다 합쳐져서 새로 생긴 과일의 기본 점수를 얻습니다.
    *   짧은 시간 안에 연속으로 과일을 합치면 "콤보"가 발동되어 추가 보너스 점수를 얻습니다. (예: 2콤보 시 +5점, 3콤보 시 +10점 등)

6.  **게임 오버:**
    *   과일들이 컨테이너 상단에 보이지 않게 설정된 "게임 오버 라인" 위로 쌓이고, 더 이상 움직이지 않게 되면 게임이 종료됩니다.
    *   게임 종료 후 최종 점수, 플레이 시간, 합체 횟수 등 다양한 통계 정보를 확인할 수 있습니다.

## 📁 프로젝트 구조 (주요 파일)

```
.
├── public/
│   └── index.html       # 메인 HTML 파일
├── src/
│   ├── components/
│   │   ├── GameCanvas.tsx   # Three.js 및 cannon-es 로직, 게임 렌더링
│   │   ├── UIControls.tsx   # 점수, 다음 과일, 재시작 버튼 등 UI
│   │   └── HelpUI.tsx       # 게임 도움말 모달 UI
│   ├── App.tsx            # 메인 애플리케이션 컴포넌트, 게임 상태 관리
│   ├── constants.ts       # 과일 데이터, 게임 설정 등 상수
│   ├── types.ts           # TypeScript 타입 정의
│   └── index.tsx          # React 애플리케이션 진입점
├── README.md              # 현재 보고 계신 파일
└── tailwind.config.js     # (만약 있다면) Tailwind CSS 설정 파일
└── tsconfig.json          # TypeScript 설정 파일
```

## 🚀 시작하기

이 애플리케이션은 웹 기반 샌드박스 환경 또는 간단한 정적 파일 서버에서 바로 실행될 수 있도록 구성되어 있습니다. `index.html` 파일이 `index.tsx`를 모듈로 로드합니다.

**로컬 개발 환경에서 실행하려면 (예시):**

1.  프로젝트 파일을 다운로드합니다.
2.  Node.js 및 npm (또는 yarn)이 설치되어 있는지 확인합니다.
3.  프로젝트 루트 디렉토리에서 다음 명령어를 실행하여 의존성을 설치합니다:
    ```bash
    npm install
    # 또는
    # yarn install
    ```
4.  개발 서버를 시작합니다:
    ```bash
    npm start
    # 또는
    # yarn start
    ```
    (일반적으로 `vite`, `create-react-app` 또는 유사한 개발 도구를 사용하여 설정해야 합니다. 현재 제공된 파일 구조는 이러한 도구 없이 직접 브라우저에서 실행되는 것을 가정합니다.)

## ⚙️ 설정 및 커스터마이징

게임의 여러 측면은 `src/constants.ts` 파일에서 쉽게 수정할 수 있습니다:

*   **`FRUIT_DATA`**: 각 과일의 크기, 색상, 점수, 다음 합쳐질 과일 종류 등을 정의합니다.
*   **`GAME_CONFIG`**: 중력, 과일/벽의 반발력 및 마찰력, 컨테이너 크기, 과일 떨어뜨리는 높이, 게임 오버 라인 위치 등을 설정합니다.
*   **`INITIAL_FRUIT_TYPES`**: 게임 시작 시 또는 다음 과일로 등장할 수 있는 일반 과일의 종류를 정의합니다.
*   **`SPECIAL_FRUIT_SPAWN_CHANCE`**: 특수 과일(무지개, 폭탄)의 등장 확률을 조절합니다.
*   기타 콤보, 폭탄 효과 범위 등 다양한 게임 플레이 관련 상수들을 조절할 수 있습니다.

## 🔮 향후 개선 사항 (아이디어)

*   **사운드 효과 및 배경 음악:** 게임 플레이 경험을 더욱 풍부하게 만듭니다.
*   **리더보드 시스템:** 전 세계 플레이어들과 점수를 경쟁합니다.
*   **더 다양한 특수 과일 및 효과:** 게임의 전략성을 높입니다.
*   **테마 변경 기능:** 시각적인 다양성을 제공합니다.
*   **모바일 최적화 강화:** 터치 입력 개선 등.

---

이 게임을 즐겨주시기 바랍니다! 피드백이나 개선 아이디어가 있다면 언제든지 환영합니다.
